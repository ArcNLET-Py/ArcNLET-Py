<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>4-Transport &mdash; ArcNLET-Py User&#39;s Manual December 20th, 2023 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=65185a0e" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=cdec1bd1"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="5-Load Estimation" href="loadestimation.html" />
    <link rel="prev" title="3-VZMOD" href="vzmod.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            ArcNLET-Py User's Manual
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">ArcNLET-Py: A Python Version of ArcGIS-Based Nitrogen Load Estimation Toolbox Developed for ArcGIS Pro</a></li>
<li class="toctree-l1"><a class="reference internal" href="simplifiedmodel.html">Simplified Model of Nitrogen Transformation and Transport</a></li>
<li class="toctree-l1"><a class="reference internal" href="preprocessing.html">0-Preprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="groundwaterflow.html">1-Groundwater Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="particletracking.html">2-Particle Tracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="vzmod.html">3-VZMOD</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">4-Transport</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#input-layers">Input Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#options-and-parameters">Options and Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#outputs">Outputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="loadestimation.html">5-Load Estimation</a></li>
<li class="toctree-l1"><a class="reference internal" href="installationandrequirements.html">Installation and Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="preparinginputdata.html">Preparing Input Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="lakeshoeexample.html">Lakeshore Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="usingpreprocessing.html">Using the Preprocessing Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="usinggroundwaterflow.html">Using the Groundwater Flow Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="usingparticletracking.html">Using the Particle Tracking Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="usingvzmod.html">Using the VZMOD Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="usingtransport.html">Using the Transport Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="usingloadestimation.html">Using the Load Estimation Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="sensitivityandcalibration.html">Sensitivity and Calibration</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">REFERENCES</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ArcNLET-Py User's Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">4-Transport</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/transport.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="vzmod.html" class="btn btn-neutral float-left" title="3-VZMOD" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="loadestimation.html" class="btn btn-neutral float-right" title="5-Load Estimation" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="transport">
<span id="id1"></span><h1>4-Transport<a class="headerlink" href="#transport" title="Link to this heading"></a></h1>
<p>After generating particle paths and estimating ammonium and nitrate
concentrations at the water table, the Transport Module (Figure 2‑14)
estimates the plumes of ammonium and nitrate, i.e., the spatial
distribution of their concentrations, using the Domenico solution’s
steady state, 2D version. Note that the calculations performed by this
module are the most computationally demanding out of all the modules. If
there is insufficient memory or free disk space, calculations may fail
unexpectedly. If this happens, users need to reduce the resolution or
conduct the simulation for a sub-area of the domain. A common practice
is to first split the OSTDS into several sub-areas, prepare
corresponding OSTDS input files, and then run ArcNLET-Py for the input
files. There is no need to re-do the flow and Particle Tracking Modules
because the flow conditions do not change between the ArcNLET-Py runs.
After the ArcNLET-Py runs, one can mosaic together the plumes generated
by the runs.</p>
<p>The transport model is based on an analytical solution introduced by
Domenico and Robbins (1985) for the advection-dispersion equations that
govern the transport of ammonium and nitrate. This analytical solution
considers advection along a single dimension and dispersion along one,
two, or three dimensions. Additionally, it assumes homogenous flow
fields and homogeneous aquifer transport properties. The advantage of
using an analytical solution is that the concentration of contaminants
can be determined anywhere, anytime, without having to solve any
differential equations numerically. For more advanced solute transport
modeling with complicated hydrogeological conditions (e.g.,
heterogeneous aquifer transport properties), one should use more
sophisticated software and/or computer codes such as MT3DMS.</p>
<p>The Domenico solution used in this Python Toolbox is a two-dimensional,
steady-state with first-order decay (first-order decay is used to
simulate denitrification (Domenico, 1987)). This formulation produces a
two-dimensional plume later converted to a pseudo-3D form by extending
the 2D solution in the vertical dimension. Using a pseudo-3D form avoids
the large memory requirements of calculating the complete 3D solution
formulated by Domenico and Robbins (1985). The shape of each plume
depends on the groundwater flow field near the NO<sub>3</sub> or
NH<sub>4</sub> source, as determined by the Groundwater Flow Module. Since
the analytical solution requires uniform flow to deal with heterogeneity
in the flow magnitude, the harmonic mean averaged along the flow path is
used. This average value is used in evaluating the analytical solution.
Heterogeneous porosity is handled by averaging the porosity along the
path using the arithmetic mean. Heterogeneous decay coefficients and
dispersivities are handled using a constant value for each plume, with
the possibility of the values varying from plume to plume. The values of
the decay coefficient and dispersivities should be representative of the
plume. Each plume is individually warped to conform to a flow path,
using a first- or second-order transformation or a thin-plate spline
transformation to handle curved paths.</p>
<p>Note that the Domenico solution is for a single species (i.e., ammonium
or nitrate). Zhu et al. (2016) expanded the solution for both ammonium
and nitrate with the transformation introduced by Sun et al. (1999). The
current version of ArcNLET-Py is based on the work of Zhu et al. (2016).</p>
<p>The outputs of the Transport Module are a raster, representing the
combined concentration distribution of all OSTDS, and an auxiliary point
shapefile that stores associated plume information (e.g., transport
simulation parameters, calculated mass inputs, etc.) for each OSTDS.
Lastly, the plume info shapefile output from the Transport Module is
used in the functionality of the Load Estimation Module to determine
load from OSTDS to surficial water bodies.</p>
<figure class="align-center" id="id4">
<a class="reference internal image-reference" href="_images/image119.png"><img alt="A screenshot of a computer Description automatically generated" src="_images/image119.png" style="width: 4.32651in; height: 7.94328in;" /></a>
<figcaption>
<p><span class="caption-text">Figure 2‑14: The Transport Module.</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
<section id="input-layers">
<h2>Input Layers<a class="headerlink" href="#input-layers" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><strong>Consideration of NH4:</strong> This option allows for estimating the
load of ammonium (NH<sub>4</sub><sup>+</sup>) to surface water bodies. By
default, this option is unchecked. Utilizing this option increases
computation time. There are several input fields revealed when
considering NH<sub>4</sub><sup>+</sup>.</p></li>
<li><p><strong>Input Source locations (point):</strong> This layer specifies the areas of
the contaminant sources. This point feature class may optionally
contain several numeric (FLOAT) fields in its attribute table that
allow for the specification of transport parameters on a
source-by-source basis. The fields that are permitted are described
in Table 2‑6.</p></li>
</ul>
<p>Table 2‑6: Optional parameters in the attribute table of the source
locations file.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Field
Name</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
<th class="head"><dl class="simple">
<dt><a href="#id2"><span class="problematic" id="id3">**</span></a>Corresponding</dt><dd><p>Parameter**</p>
</dd>
</dl>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>no3_conc</p></td>
<td><p>The initial concentration of the
source plane for
nitrate-nitrogen.</p></td>
<td><p>C0
[M/l<sup>3</sup>]</p></td>
</tr>
<tr class="row-odd"><td><p>nh4_conc</p></td>
<td><p>The initial concentration of the
source plane for
ammonium-nitrogen.</p></td>
<td><p>C0
[M/l<sup>3</sup>]</p></td>
</tr>
</tbody>
</table>
<p>The field names must be labeled as shown in the table and be of the
FLOAT type. If one wants to use constant concentrations of ammonium
and/or nitrate for all OSTDS, he/she can input the concentration values
in the <strong>Parameters</strong> section.</p>
<ul class="simple">
<li><p><strong>Input Water bodies (polygon):</strong> Specifies the locations of water
bodies. It is the same input used in the Particle Tracking
Module.</p></li>
<li><p><strong>Input Particle Paths (polyline):</strong> The particle paths
correspond with the <strong>Source locations</strong> and are the output file of the
Particle Tracking Module. The Transport Module uses this file to
calculate the average velocity (harmonic mean) and porosity (arithmetic
mean) along each flow path. These values are then used for the
calculation of each plume.</p></li>
</ul>
</section>
<section id="options-and-parameters">
<h2>Options and Parameters<a class="headerlink" href="#options-and-parameters" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><strong>Solution type:</strong> The form of the Domenico solution to use. The
available options are:</p></li>
</ul>
<ol class="loweralpha simple">
<li><p><strong>DomenicoRobbinsSS2D</strong>: The two-dimensional, steady-state Domenico
solution without decay (i.e., denitrification). This is a legacy method,
and it is retained for understanding the impact of denitrification. This
solution should not be used for OSTDS modeling because denitrification
is always expected to occur.</p></li>
<li><p><strong>DomenicoRobbinsSSDecay2D</strong>: The two-dimensional, steady-state
Domenico solution with decay. This solution should always be used.</p></li>
</ol>
<ul class="simple">
<li><p><strong>Plume warping control point spacing [Cells]:</strong> This parameter is used
to warp the plume to specific flow paths. It specifies the number of
cells along the plume centerline (starting from the OSTDS location)
separating the control points for warping. The control point spacing,
plume length, and the plume cell size determine the number of control
points. TakingFigure 2‑14 as an example, the parameter value of 48
means that a control point is set for every 48 cells along the plume
centerline. The warping <strong>Method</strong> includes three options: spline,
first-order polynomial (also called affine transformation), and
second-order polynomial. The default method is the second-order
polynomial transformation.</p>
<ol class="loweralpha simple">
<li><p>A smaller <strong>Plume warping control point spacing</strong> yields a more
accurate warp at the expense of a longer computation time. The
computation time depends on the <strong>Method</strong> used for warping.
Setting the <strong>Plume warping control point spacing</strong> too small may
increase computation time or cause the warp to fail if the flow
path is nearly straight. Setting this value too large is not
problematic since the software automatically ensures sufficient
control points are available for warping. If the algorithm cannot
generate a sufficient number of points (likely because the plume
is too short or has a cell size that is too large), then the warp
fails. The default value (48 cells) should be acceptable for most
applications. For example, if the spacing is set to 48 cells,
control points are spaced 48 raster cells apart. If it is
impossible to place the required number of control points (i.e.,
due to a short plume), the program adjusts this number to an
appropriate value. If, after adjusting spacing, the requirements
for the number of points cannot be met, the warp fails, and the
plume is discarded. If many plumes are discarded for this reason,
a possible solution is to increase the plume resolution (i.e.,
decrease the <strong>Plume Cell Size</strong> value).</p></li>
</ol>
</li>
<li><p><strong>Plume warping methods:</strong> The warping algorithm to use. More details
of the wrapping methods can be found on the Esri website at
<a class="reference external" href="https://pro.arcgis.com/en/pro-app/latest/tool-reference/data-management/warp.htm">https://pro.arcgis.com/en/pro-app/latest/tool-reference/data-management/warp.htm</a>.
ArcNLET-Py has the following three options:</p>
<ol class="loweralpha simple">
<li><p><strong>Spline:</strong> This option is for the thin-plate spline
transformation. This method has the best overall result regarding
computational time and numerical accuracy.</p></li>
<li><p><strong>Polynomial2:</strong> This selection is for the second-order polynomial
transformation. This transformation can be used in exceptional
cases where the flow paths are simple and are generally
arc-shaped. This transformation is the default, as it yields
slightly more accurate results than the Spline method does.</p></li>
<li><p><strong>Polynomial1</strong>: This selection is for the first-order polynomial
(affine) transformation. This transformation should only be used
for troubleshooting or when the flow path is straight.</p></li>
</ol>
</li>
<li><p><strong>Threshold Concentration [M/L3]:</strong> By default, the threshold value
is set to 10-6 for ammonium and nitrate concentrations. If a
concentration in a cell is smaller than the threshold value, it is
not used for the plume calculation. This value can speed up
computation and reduce memory requirements by discarding portions of
the plume below the threshold value. Setting this value too low may
increase resource utilization beyond the capabilities of the machine
running the model. Setting this value too high may result in
discarding significant portions of the plume, resulting in large mass
balance errors. The units of the threshold value are the same as
those of NH4_conc and NO3_conc. For example, if the units of NO3_conc
are in mg/L, then the default of 1E-6 mg/l should be sufficient for
most applications. If the concentration units are not in mg/L, this
value should be changed to the equivalent value in the correct units.</p></li>
<li><p><strong>Post-processing</strong>: This setting controls how plumes intersecting
water bodies are handled:</p>
<ol class="loweralpha simple">
<li><p><strong>None:</strong> When the plumes reach a water body, the plume terminates
with a straight line perpendicular to the flow direction. This
option is for troubleshooting or when the other methods are too
slow.</p></li>
<li><p><strong>Medium:</strong> Plumes are all post-processed as a single raster.
Plumes that reach a water body are terminated with a shape that
conforms to the shape of the water body boundary. This option
works in cases where the configuration of the water bodies is
simple (e.g., a single large water body). This setting is the
default selection.</p></li>
<li><p><strong>Full:</strong> Plumes are processed individually. This option is the
slowest of the three and, depending on the number of plumes, is
significantly slower than the <strong>Medium</strong> option. <strong>Medium</strong> and
<strong>Full</strong> produce the same result when only a single plume exists.
In cases where plumes appear to cross small creeks, ditches, or
other complicated water body configurations, this option or the
<strong>None</strong> option should be used.</p></li>
</ol>
</li>
<li><p><strong>Domenico Boundary:</strong> A mass balance calculation requiring either
specifying or estimating the inflow mass rate from an OSTDS. When the
inflow mass rate is specified, ArcNLET-Py needs to estimate the
height (called Z) of a source plane associated with an OSTDS. If the
Z value is specified, ArcNLET estimates the inflow mass rate.
Although a 2D version of the Domenico solution is used, the Z value
is required since it converts the 2D solution into a pseudo-3D form
by extending the 2D solution vertically downwards. There are two
options for this variable:</p>
<ol class="loweralpha simple">
<li><p><strong>Specified Input Mass Rate:</strong> Setting the <strong>Domenico Boundary</strong>
to this option enables the <strong>Mass input [M/T]</strong>. The value of the
<strong>Mass input</strong> (<strong>Min)</strong> parameter represents a known input mass
rate, in units of mass per time, from the constant concentration
source plane. The mass unit must be the same as that of <strong>NO3
Concentration</strong> (C0)<strong>,</strong> and the time units must be the same as
the time units of the groundwater flow velocity magnitude. A
20,000 mg/day value per OSTDS is a reasonable starting point.
Using a specified mass inflow rate requires estimating the Z
value, and the option for a <strong>Maximum Z [L]</strong> value, which limits
the value of Z, is enabled. In extreme situations, an unreasonably
large Z value may be estimated based on the specified input mass
rate. The <strong>Zmax [L]</strong> value is the maximum Z value of the
Domenico source plane that limits the value of Z, and the default
is 3 meters. Note that the value for <strong>Source Dimension Z [L]</strong> is
automatically estimated when using the <strong>Specified Input Mass
Rate</strong> option.</p></li>
<li><p><strong>Specified Z:</strong> Setting the <strong>Domenico Boundary</strong> parameter to
this option enables the <strong>Source Dimension Z [L]</strong> allocation. The
mass units of <strong>Min</strong> are automatically calculated. The Z value
is based on the measured plume’s thickness.</p></li>
</ol>
</li>
</ul>
<p>The user can determine which option to use based on available
information. For example, if only the inflow mass rate is available from
a report, the first option should be used. If a reasonable Z value is
available, the second option should be used.</p>
<ul class="simple">
<li><p><strong>Source Dimension:</strong> The dimensions are in map units and should be
the same as the DEM unit. The source plane represents the <strong>Source
Dimension Y [L]</strong> (Y) and <strong>Source Dimension Z [L]</strong> (Z). The
Y<strong>-</strong>value is estimated by measuring the width of the drainfield
in the direction perpendicular to groundwater flow. The default
values are <strong>Source Dimension Y [L]</strong> is 6 meters, and <strong>Source
Dimension Z</strong> is 1.5 meters. The value of Z should not typically
exceed 3 meters. These values are in units of meters and should be
changed if the map units are not meters. The units of Y and Z must
have the same units for length as the groundwater flow velocity
magnitude. If the <strong>Domenico Boundary</strong> parameter is set to
<strong>Specified Input Mass Rate</strong>, the <strong>Source Dimension Z</strong> value is
calculated automatically. If the <strong>Domenico Boundary</strong> parameter is
set to <strong>Specified Z</strong>, then the <strong>Mass Input</strong> value is calculated
automatically.</p></li>
<li><p><strong>Plume cell size [L]</strong>: The grid resolution in map units over which
the Domenico solution is evaluated. Smaller values yield
higher-resolution plumes at the expense of increased computation time
and memory usage. An out-of-memory or other error likely occurs if
the cell size is too small when there are many plumes. The cell size
should be between 5 and 30 times smaller than the source width to
represent the plume. By default, the cell size is set to a value 15
times smaller than the value of <strong>Source Dimension Y</strong>. This value
can be set higher to speed up calculations. The plume resolution can
differ from the DEM and generally should be smaller. Likewise, the
resolution of the plumes should be smaller than the resolution used
in particle tracking, rendering the model execution more flexible.
The units of this parameter must have the same length units as the
groundwater flow velocity magnitude. Although a general guideline is
provided for reasonable values of this parameter, the smaller the
<strong>Plume cell size</strong>, the more accurate the solution.</p></li>
<li><p><strong>NO3 Concentration [M/L3]:</strong> The concentration of the source
plane. Its range is between 0 and 80 mg/L, and the default is 40
units (e.g., mg/L). If there are data in the <strong>Input Source locations
(point)</strong> (i.e., the exported shapefile form VZMOD) in the No3_conc
field, then the <strong>NO3 Concentrations [M/L3]</strong> input field is
removed from the Geoprocessing Pane, and the values in the <strong>Input
Source locations (point)</strong> attribute table are used.</p>
<ol class="loweralpha simple">
<li><p><strong>NH4 Concentration [M/L3]:</strong> The NH<sub>4</sub> concentration
of the source plane. If the input source locations (shapefile)
contain a column named nh4_conc, then the value in the input file
is used. This field allows users to enter different initial
concentrations for different OSTDS. If not, the input value here
is the initial value for all OSTDS. By default, the value is 10
mg/L. If there are data in the <strong>Input Source locations (point)</strong>
(i.e., the exported shapefile form VZMOD) in the nh4_conc field,
then the <strong>NH4 Concentrations [M/L3]</strong> input field is removed
from the Geoprocessing Pane, and the values in the <strong>Input Source
locations (point)</strong> attribute table are used.</p></li>
</ol>
</li>
<li><p><strong>Dispersivities:</strong> These approximate values for a given soil type’s
horizontal and longitudinal dispersivities may be obtained from the
literature (e.g., Freeze and Cherry, 1979). The defaults are based on
a model by USGS scientists of the Naval Air Station in Jacksonville.
This number should be changed accordingly if the map units are not
meters. This parameter has two settings:</p>
<ol class="loweralpha simple">
<li><p><strong>NO3 Dispersivity αL [L]:</strong> This is for the longitudinal
dispersivity of NO<sub>3</sub>. The default is 2.113 m/day.</p></li>
<li><p><strong>NO3 Dispersivity αTH [L]:</strong> This parameter represents the
horizontal dispersivity of NO<sub>3</sub>. The default value is
0.234 meters.</p></li>
<li><p><strong>NH4 Dispersivity αL [L]:</strong> This is the longitudinal
dispersivity for NH<sub>4</sub><sup>+</sup>. By default, the value is
2.113 meters.</p></li>
<li><p><strong>NH4 Dispersivity αTH [L]:</strong> This is the horizontal
transverse dispersivity of NH<sub>4</sub><sup>+</sup>. By default, the
value is set to 0.234 meters.</p></li>
</ol>
</li>
<li><p><strong>Denitrification Decay Rate [1/T]:</strong> This represents the first-order
decay constant. This constant controls the amount of nitrate loss due
to denitrification. An approximate value may be obtained from the
literature (e.g., McCray, 2005). The default value is 0.008
day<sup>-1</sup>.</p></li>
<li><p><strong>Volume Conversion Factor:</strong> This factor converts volumes calculated
from the units of length to the volume units used for concentration.
For example, if the value of NO3_conc was specified using the unit of
mg/L, and the length units (units of the cell size, source
dimensions, dispersivities, and length portion of the groundwater
flow velocity magnitude units) are in meters, the conversion factor
is 1,000 since 1,000 liters equals one cubic meter. The correct
conversion factor is CRITICAL to calculate the nitrate load
correctly.</p></li>
<li><p><strong>Nitrification Decay Rate [1/T]:</strong> This is the first-order decay
constant for NH<sub>4</sub><sup>+</sup>. This constant controls the
amount of ammonium loss due to nitrification. By default, the value
is 0.0001 day-1.</p></li>
<li><p><strong>Bulk Density [M/L3]:</strong> The bulk density of the soil. By default,
this value is 1.42 g/cm<sup>3</sup>.</p></li>
<li><p><strong>Adsorption coefficient [L3/M]:</strong> The measure of how much
NH<sub>4</sub><sup>+</sup> is adsorbed by the soil at a given temperature
and pH. By default, this value is set to 2 g/cm<sub>3</sub>.</p></li>
</ul>
</section>
<section id="outputs">
<h2>Outputs<a class="headerlink" href="#outputs" title="Link to this heading"></a></h2>
<p>The raster output(s) contain the concentration distribution of the
calculated plumes. An additional file, the “_info” shapefile, is saved
in the disk location as the plume’s raster, with the same name and
having the “_info” suffix. The “_info” file contains points
corresponding to each source location. Each point has attributes that
describe the plume corresponding to that location (i.e., the parameters
used to calculate the plume, the warping, and post-processing methods,
to name a few). Since the Load Estimation Module uses some of this
information, the values in the attribute table should not be modified
manually. For reference purposes, the field descriptions of the “_info”
file are given in Table 2‑7. In the table, the Load Estimation Module
uses the fields indicated with an asterisk to calculate loads. The
fields not used for calculation are for informational/archival purposes.
They should not be modified as they serve to record the parameters used
for each plume.</p>
<p>Additionally, the presence and consistency of the fields are checked to
ensure the parameters exist in the data. There are two options for plume
outputs. The first option is the default. The second option is enabled
by checking the box for the <strong>Consideration of NH4</strong>. The raster
output options are as follows:-</p>
<ul class="simple">
<li><p><strong>Output Plumes of NO3 (raster):</strong> This is the name of the output
raster file of the NO<sub>3</sub><sup>-</sup> concentration plumes. Note
that the “_info” shapefile has the same file name and location as the
raster.</p></li>
<li><p><strong>Output Plumes of NH4 (raster):</strong> This is the file name and
location of the optional raster for the NH<sub>4</sub><sup>+</sup> plumes.
Note that the “_info” shapefile has the same file name and location as
your raster.</p></li>
</ul>
<p>Table 2‑7: The field descriptions for the plumes auxiliary file.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Field Name</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PathID</p></td>
<td><p>This is the PathID of the flow paths that
generate a particular plume. Values in
this field correspond to values of the
PathID field of Table 2‑3.</p></td>
</tr>
<tr class="row-odd"><td><p>Is2D</p></td>
<td><p>1 – Indicates the plume is pseudo 3D.</p>
<p>0 – Indicates the plume is fully 3D (not
currently supported).</p>
</td>
</tr>
<tr class="row-even"><td><p>domBdy</p></td>
<td><p>– The source plane has a specified mass
input rate.</p>
<p>– The source plane has a specified Z
dimension.</p>
</td>
</tr>
<tr class="row-odd"><td><p>decayCoeff</p></td>
<td><p>The decay coefficient.</p></td>
</tr>
<tr class="row-even"><td><p>avgVel</p></td>
<td><p>The velocity value. It is obtained by
averaging along the flow path.</p></td>
</tr>
<tr class="row-odd"><td><p>avgPrsity</p></td>
<td><p>The porosity value. It is obtained by
averaging along the flow path.</p></td>
</tr>
<tr class="row-even"><td><p>dispL</p></td>
<td><p>The longitudinal dispersivity.</p></td>
</tr>
<tr class="row-odd"><td><p>dispTH</p></td>
<td><p>The transverse-horizontal dispersivity.</p></td>
</tr>
<tr class="row-even"><td><p>dispTV</p></td>
<td><p>This is for the transverse-vertical
dispersivity that is not currently
supported.</p></td>
</tr>
<tr class="row-odd"><td><p>sourceY</p></td>
<td><p>The Y source dimension.</p></td>
</tr>
<tr class="row-even"><td><p>sourceZ</p></td>
<td><p>The Z source dimension.</p></td>
</tr>
<tr class="row-odd"><td><p>MeshDX</p></td>
<td><p>This mesh is the plume cell size in the
x-direction (same as the MeshDY).</p></td>
</tr>
<tr class="row-even"><td><p>MeshDY</p></td>
<td><p>This mesh is the plume cell size in the
y-direction (same as the MeshDX).</p></td>
</tr>
<tr class="row-odd"><td><p>MeshDZ</p></td>
<td><p>This mesh is the plume cell size in the
z-direction (same as the sourceZ).</p></td>
</tr>
<tr class="row-even"><td><p>plumeTime</p></td>
<td><p>The plume time is the time at which the
plume is calculated. This value is -1 for
steady-state plumes (only steady-state
solutions are supported).</p></td>
</tr>
<tr class="row-odd"><td><p>pathTime</p></td>
<td><p>The total time that flow takes from the
start of the flow path to the end.</p></td>
</tr>
<tr class="row-even"><td><p>plumeLen</p></td>
<td><p>Plume length represents the length of the
plume in map units.</p></td>
</tr>
<tr class="row-odd"><td><p>pathLen</p></td>
<td><p>The path length is the total length of the
flow path.</p></td>
</tr>
<tr class="row-even"><td><p>plumeVol</p></td>
<td><p>Plume volume is the total volume
calculated by summing the volumes of the
individual plume cells. Each plume cell
has dimensions MeshDX * MeshDY * MeshDZ.</p></td>
</tr>
<tr class="row-odd"><td><p>massInRate*</p></td>
<td><p>The mass input rate of nitrate is from the
Domenico constant concentration plane due
to advective and dispersive flow. This
number is calculated based on an
analytical solution.</p></td>
</tr>
<tr class="row-even"><td><p>massDNRate*</p></td>
<td><p>The nitrate mass removal rate is due to
denitrification. This value is calculated
for each plume cell using the definition
of first-order decay.</p></td>
</tr>
<tr class="row-odd"><td><p>srcAngle</p></td>
<td><p>The orientation of the Domenico source
plane is in degrees clockwise from north.</p></td>
</tr>
<tr class="row-even"><td><p>Warp</p></td>
<td><p>This field represents the warping
algorithm utilized.</p>
<p>0 – Spline</p>
<p>1 – Polyorder1</p>
<p>2 – Polyorder2</p>
</td>
</tr>
<tr class="row-odd"><td><p>PostP</p></td>
<td><p>The post-processing method.</p>
<p>0 – None</p>
<p>1 – Medium</p>
<p>2 – Full</p>
</td>
</tr>
<tr class="row-even"><td><p>msRtInNMR</p></td>
<td><p>This rate is the mass input rate of
nitrate from the Domenico constant
concentration plane due to advective and
dispersive flow. The method that
calculates this is similar to numerical
modeling software in which the inflow is
calculated on a cell-by-cell basis, given
the size of the source plane, groundwater
flow velocity, and concentration
gradients. The field is for information
purposes, as it is not used in
calculations.</p></td>
</tr>
<tr class="row-odd"><td><p>no3_conc</p></td>
<td><p>The source concentration of
NO<sub>3</sub>-N.</p></td>
</tr>
<tr class="row-even"><td><p>nh4_conc</p></td>
<td><p>The source concentration of NH<sub>4</sub>-N</p></td>
</tr>
<tr class="row-odd"><td><p>VolFac</p></td>
<td><p>The volume conversion factor.</p></td>
</tr>
<tr class="row-even"><td><p>nextConc</p></td>
<td><p>It is an approximate value of the
concentration gradient at the source. This
value corresponds to the cell
concentration located at x=MeshDX, y=0.</p></td>
</tr>
<tr class="row-odd"><td><p>threshConc</p></td>
<td><p>The concentration threshold value.</p></td>
</tr>
<tr class="row-even"><td><p>WBId_plume*</p></td>
<td><p>Records the FID of the water body that the
plume discharges to. If the plume does not
reach a water body, this value is -1.</p></td>
</tr>
<tr class="row-odd"><td><p>WBId_path*</p></td>
<td><p>Records the FID of the water body that the
flow path reaches. If the flow path does
not reach a water body, this value is -1.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading"></a></h2>
<p>Table 2‑8 lists possible issues encountered during model execution,
probable causes, and possible solutions. Note that the error messages
may appear for reasons other than those listed. If you cannot find a
solution to the issue, then please submit a [New issue] in the
ArcNLET-Py GitHub repository (<a class="reference external" href="https://github.com/ArcNLET-Py/ArcNLET-Py/issues">Issues · ArcNLET-Py/ArcNLET-Py ·
GitHub</a>) as
described in the GitHub instructions at <a class="reference external" href="https://docs.github.com/en/issues/tracking-your-work-with-issues/creating-an-issue">Creating an issue - GitHub
Docs</a>.</p>
<p>Table 2‑8: The Transport Module troubleshooting guide.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Error</strong></p></th>
<th class="head"><p><strong>Cause</strong></p></th>
<th class="head"><p><strong>Solution</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Depending on the
choice of
parameters, plume
calculation may
fail if there are
many sources.</p></td>
<td><p>The system has
insufficient memory
or disk space.</p></td>
<td><p>Free up memory by
closing other
programs.</p>
<p>Split up the input
file (paths or
sources) into
multiple parts
(either split up the
point sources or the
particle paths).</p>
</td>
</tr>
<tr class="row-odd"><td><p>Junk is output in
the plume’s raster
after warping.</p></td>
<td><p>Warping may succeed
in specific
configurations of the
warping control
points (e.g., when
many points fall on a
path that is almost a
straight line), but
the plume raster
consists of garbled
data.</p></td>
<td><p>Try a different
warping method or
different control
point spacing.</p></td>
</tr>
<tr class="row-even"><td><p>Some plumes are not
calculated.</p></td>
<td><p>Warping fails due to
insufficient control
points if the plume
is too short.</p>
<p>The OSTDS point may
be inside a water
body.</p>
</td>
<td><p>Decrease the value of
the Plume cell size
parameter.</p>
<p>Move the OSTDS point
outside or modify the
water body boundary
if appropriate.</p>
<p>If a plume is not
calculated for any
reason, the input
load to the system
due to that source is
ignored.</p>
</td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="vzmod.html" class="btn btn-neutral float-left" title="3-VZMOD" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="loadestimation.html" class="btn btn-neutral float-right" title="5-Load Estimation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Michael Core, Wei Mao, and Ming Ye.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>